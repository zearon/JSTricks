<!DOCTYPE html>
<!--
 * Copyright (c) 2010 The Chromium Authors. All rights reserved.  Use of this
 * source code is governed by a BSD-style license that can be found in the
 * LICENSE file.
-->
<html>
  <head>	
	<meta charset="utf-8" />
	<title>Javascript Tricks - Options</title>

	<!-- CodeMirror stylesheets and scripts -->
	<link rel="stylesheet" href="lib/codemirror/lib/codemirror.css">
	<link rel="stylesheet" href="lib/codemirror/addon/hint/show-hint.css">
	<link rel="stylesheet" href="lib/codemirror/addon/fold/foldgutter.css" />
	<link rel="stylesheet" href="lib/codemirror/addon/lint/lint.css">
	<link rel="stylesheet" href="css/theme/light.css">
	<link rel="stylesheet" href="css/theme/_yellow.css">
	<link rel="stylesheet" href="css/theme/dark.css">

	<script src="lib/codemirror/lib/codemirror.js"></script>
	<script src="lib/codemirror/addon/selection/active-line.js"></script>
	<script src="lib/codemirror/addon/edit/matchbrackets.js"></script>
	<script src="lib/codemirror/addon/comment/continuecomment.js"></script>
	<script src="lib/codemirror/addon/comment/comment.js"></script>
	<script src="lib/codemirror/addon/hint/show-hint.js"></script>
	<script src="lib/codemirror/addon/hint/javascript-hint.js"></script>
	<script src="lib/codemirror/mode/javascript/javascript.js"></script>
	<script src="lib/codemirror/addon/hint/css-hint.js"></script>
	<script src="lib/codemirror/mode/css/css.js"></script>
	<script src="lib/codemirror/addon/fold/foldcode.js"></script>
	<script src="lib/codemirror/addon/fold/foldgutter.js"></script>
	<script src="lib/codemirror/addon/fold/brace-fold.js"></script>
	<script src="lib/codemirror/addon/fold/comment-fold.js"></script>
	
	<script src="lib/jshint/jshint.js"></script>
	<script src="lib/3rdparty-lint/jsonlint_zaach.js"></script>
	<script src="lib/3rdparty-lint/csslint.js"></script>
	<script src="lib/codemirror/addon/lint/lint.js"></script>
	<!--script src="lib/codemirror/addon/lint/javascript-lint.js"></script-->
	<script src="lib/codemirror/addon/lint/javascript-lint-async.js"></script>
	<script src="lib/codemirror/addon/lint/json-lint.js"></script>
	<script src="lib/codemirror/addon/lint/css-lint.js"></script>	
	
	<script src="lib/codemirror/addon/selection/mark-selection.js"></script>
	<script src="lib/codemirror/addon/scroll/annotatescrollbar.js"></script>
	<!-- End of CodeMirror stylesheets and scripts -->
	  
	<script src="lib/jquery.js" ></script>	
	<script src="lib/jquery-ui.js" ></script>
	<script src="lib/jsformatter.js" ></script>
	
	<script src="lib/jscolor/jscolor.js"></script> 
	
	<script src="js/common/commonext.js" ></script>	
	<script src="js/common/templating.js" ></script>	
	<script src="js/common/templates.js" ></script>	
	<script src="js/common/storage.js" ></script>	
	<script src="js/common/codesnippet.js" ></script>	
	<script src="js/common/theme.js" ></script>	
	
	<script src="js/common/cloudsave/cryptojs/aes.js" ></script>	
	<script src="js/common/cloudsave/cryptojs/md5.js" ></script>	
	<script src="js/common/cloudsave/cryptojs/pad-zeropadding.js" ></script>	
	<script src="js/common/cloudsave/cloudsave.js" ></script>
	
	<script src="js/options.js"></script>
	
	
  <link rel="stylesheet" href="css/jquery-ui.structure.css"> 
  <link rel="stylesheet" href="css/theme/jqueryui/jquery-ui.theme-light.css"> 
  <link rel="stylesheet" href="css/theme/jqueryui/jquery-ui.theme-_yellow.css"> 
  <link rel="stylesheet" href="css/theme/jqueryui/jquery-ui.theme-dark.css"> 
  <link rel="stylesheet" href="css/options.css"> 
	<style>
		
	</style>
	</head>
	<body>
	<div id="jstmessage" ></div>
	<div id="floatingWindow" ></div>
	<div class="header">
		<div id="logowrapper"><img id="logo" src='icon/icon128.png' alt='' style='float:right;margin:5px;'/></div>
		<div id="page-title">
			<h1>JavaScript Tricks Options</h1>
			v<span id='version'></span> by Jeffrey
		</div>
	</div>
	<div id="centercontainer" >
		<div id="toptabs" class="tabs">
			<ul>
				<li><a href="#tabs-sss">Site-Specific Scripts</a></li>
				<li><a href="#tabs-dcs">Dynamic Content Scripts</a></li>
				<li><a href="#tabs-options">Options</a></li>
				<li><a href="#tabs-gs">Backup Restore & Misc.</a></li>
			</ul>
			<span id="backupToolbar" class="hide" style="display:block;margin-right:60px;float:right;position:relative;top:-25px;">
				<input id="testtest" type="button" value="Test" class="hide" style="display:none" />
				Theme:
				<select id="theme" class="localstorage_itemvalue" target="$setting.theme" defaultvalue="_yellow" title="Theme. Automatic means automatically change between a day theme and a night theme.">
					<option value="light">Light</option>
					<option value="_yellow">Yellow</option>
					<option value="dark">Dark</option>
					<option value="automatic">Automatic</option>
				</select>
				<input class="cloudbackup" type="button" value="Backup" />
				<input class="cloudrestore" type="button" value="Restore" /><br/><br/>
			</span>
			<div id="tabs-sss" class="tab">
				<div class="editwrap" >
					<div id="site-list" class="navbar">
							<div id='menu' style='overflow:auto;min-width:200px;clear:both;height:100%'></div>
					</div>
					<div class="editorPanel">
						<div id='editorJs' class="hidableEditorArea" style='visibility:block;'>
							<div class="toolbar" style="left:0; right:280px;" >
								<!-- <table class="toolbar-left">
									<tr>
									<td style="width: 120px;">Content Contains: </td>
									<td> <input id="jscontentfiltertext" style="width:98%;" title="Tip: Search Regexp \S+ for non-empty values" />  </td>
									<td style="width: 20px;"><select id="contentfiltermode" >
										<option>String</option>
										<option>Regexp</option>
									</select>
									</td>
									</tr>
								</table>
								-->
								<table class="toolbar-left">
								<tr>
									<td style="width: 210px;">Requires dynamic content script: </td>
									<td><input id="jsincludefile" style="width:98%;" title="The names of one or more content scripts that should be loaded before this script.<br/>Can be multiple values seperated by commas." /></td>
								</tr>
								</table>
							</div>
							<div class="toolbar" style="top:0px;" >	
								<!-- div style="">
									<input id="jscontentfilterbtn" type="button" value="Filter JS" />
									<input id="csscontentfilterbtn" type="button" value="Filter CSS" />
									<input id="clearcontentfilterbtn" type="button" value="Show All" style="width:107px" />
								</div -->
								<div style="margin-bottom: 6px;">
									<input id="jscb" type='checkbox' /><label for='jscb' id="forjscb" style="height:20px; top:-1px;">Autostart</label>
									<input id="jshid" type='checkbox' style='display:none'/><label for='jshid' style='display:none'>Hidden</label>
									<input id="jssave" type='button' value="Save [Ctrl+S]" style="width: 98px;" />
									<input id="jsdelete" type='button' value="Delete" />		
								</div>
								<div style="display:inline-block;">
									<input class="findReplaceDialogBtn" type="button" value="Find and Replace" target="Site Scripts" style="width: 160px;" />
								</div>
								<div style="display:inline-block; float:right;">
									<input type="button" value="+" class="textSizeUpBtn" />
									<span class='textsizeval'>11px</span>
									<input type="button" value="-" class="textSizeDownBtn" />
								</div>
								<div style='display:none;clear:right;'>
									<select id='jsscriptfile' >
									</select>
								</div>
							</div>
							<div class="tabs" style="">
								<ul>
									<li><a href="#tabs-1">JavaScript</a></li>
									<li><a href="#tabs-2">CSS</a></li>
								</ul>
								<div id="tabs-1" class="tab">
									<div id="editorwrap" class="editwrap" >
										<textarea id='taedit'></textarea>
									</div>
								</div>
								<div id="tabs-2" class="tab">
									<div id="editorwrap2" class="editwrap" >
										<textarea id='taeditcss'></textarea>
									</div>
								</div>
								<!--
								<span><div id='dummyheight' class="editwrap" ></div></span>
								-->
							</div>
							
							<div id="findReplaceDialog" style="display:none; ">
								<div style="margin-bottom: 3px;"><span title="Tips: <br/>1. Search <b>\S+</b> in regex mode to find non-empty content.<br/>2. In regex mode, dot (.) does not match line break. Use <b>[\s\S]</b> to match any character." >
								<b>Search as</b> </span>
								<select id="findDialog-searchmethod" > 
									<option>String</option>
									<option>Regular Expression</option>
								</select>
								<span class="findDialog-for-site-script">in
									<select id="findDialog-searchfor"> 
										<option>Script</option>
										<option>CSS</option>
										<option>Both</option>
									</select></span>
								</div>
								<div><textarea id="findDialog-findstring" style="width:100%" ></textarea></div>
								<div> 
									<span title="Ignore diference between lower case and upper case">Case-insensitive
									<input id="findDialog-regex-i" type="checkbox" /></span>
									<span title="Find all occurency instead of only the first one">Global
									<input id="findDialog-regex-g" type="checkbox" checked /></span>
									<span title="In regex (regular expression) mode, ^ and $ matches head and tail or every line instead of the whole string content">
									Multiple Lines
									<input id="findDialog-regex-m" type="checkbox" /></span>
								</div>
								<div class="findDialog-for-site-script" style="margin:5px 0px 0px 0px;">
								Contains Default Script?
								<select id="findDialog-contains-default-script">
									<option value="true">Yes</option>
									<option value="false">No</option>
								</select> <br/>
								</div>
								<div class="findDialog-for-site-script" style="margin:3px 0px 10px 0px;">
								<select id="findDialog-andor-autostart">
									<option value="and">And</option>
									<option value="or">OR</option>
								</select>
								Autostart status is
								<select id="findDialog-filter-autostart">
									<option value="any">Any</option>
									<option value="true">Yes</option>
									<option value="false">No</option>
								</select>
								</div>
								<hr/>
								<div title="Tips: <br/>1. In regex, $1, $2,..., $n can be used to represent the nth capture group defined within ().<br/>2. \s and \S match space (tab and line break) and non-space characters; \d and \D match digit (0-9) and non-digit characters; \b and \B match word boundary (but including none characters) and non-word-boundary." >
								<b>Replace with:</b></div>
								<div><textarea id="findDialog-replacement" style="width:100%" ></textarea></div>
								<div class="findDialog-for-site-script">And set autostart to 
								<select id="findDialog-set-autostart">
									<option value="unchanged">Unchanged</option>
									<option value="true">Yes</option>
									<option value="false">No</option>
								</select>
								</div>
								<hr/>
								
								<div style="display:none;">
								<input type="button" id="" value="Find" />
								<input type="button" id="" value="Replace" />
								<input type="button" id="" value="Replace and Find" />
								</div>
								For  
								<select id="findDialog-find-range">
									<option value="current">Current</option>
									<option value="all">All</option>
								</select>
								<b><span id="findDialog-target">Site-Scripts</span></b>:
								<div style="margin-top: 2px;">
								<input type="button" id="findDialog-findBtn" value="Find" />
								<input type="button" id="findDialog-previewBtn" value="Preview Replace" />
								<input type="button" id="findDialog-cancelBtn" value="Cancel" />
								<input type="button" id="findDialog-doBtn" value="DO" />
								</div>
							</div>
						</div>
					</div>	
				</div>
			</div>
				
			<div id="tabs-dcs" class="tab">
				<div class="editwrap" >
					<div id="script-list" class="navbar" style="overflow:hidden">
						<div class="actions" style="height:28px; border:white solid; border-width:1px 1px 0 0; padding-top:4px; padding-left: 0px;">
							<input id="dcsmultiselect" type='button' title="" style="width:26px;" />
							<input id="dcsadd" type='button' value="+" style="width:20px;" title="Create a new content script."/>
							<input id="dcsdelete-allselected" type='button' value="-" style="width:20px;" title="Delete <font color='red'>ALL</font> selected scripts."/>
							<input id="dcsreindex" type='button' value="IDX" title="Reset the display order of scripts in context menues with continuous numbers starting from 1 according to current order." />
							<input id="dcsrename" type='button' value="Ren" title="Rename current script in edit." />	
							<input id="dcsregroup" type='button' value="ReG" title="Reset group of <font color='red'>ALL</font> selected scripts." />	
							<input id="dcsindexup" type="button" title="Move Up" style="width:26px;" />
							<input id="dcsindexdown" type="button" title="Move Down" style="width:26px;" />
							<input id="dcssort" type='button' value="Sort" style="display:none" />
							<input id="dcsupdatemenu" type='button' value="Re-Menu" style="display:none" title="Refresh context menu" />
						</div>
						<div id='contentscript-menu' style='overflow:auto;min-width:200px; position:absolute; bottom:0; left:0; right:0; top: 30px;'>
						</div>
					</div>
					<div class="editorPanel">
						<div id='editorScripts' class="hidableEditorArea" style='visibility:block;'>
							<div class="toolbar" style="left:0; right:10px;" >
								<table class="toolbar-left"><tr>
									<td style="width:355px;">
										Group:
										<input id="dcsgroup" type="text" size="10" style="width:66px;" title="Name of group of which this script belongs to in the context menu" />
										Title:
										<input id="dcstitle" type="text" size="20" style="width:126px;" title="Text representing this script displayed as the menu item name in the context menu" />
										Requires:
									</td>
									<td>
										<input id="dcsinclude" type="text" style="width:98%;" title="The names of one or more content scripts that should be loaded before this script.<br/>Can be multiple values seperated by commas." />
									</td>
									<td style="width:380px; text-align:right;">
										Index: 
										<input id="dcsindex" type="text" size="3" style="width:24px;" title="A number representing the display order in context menu" />
										<input tabindex="1" type='checkbox' id='importOnce'  />
										<label for="importOnce" id="forImportOnce" style="height:21px;" 
											title="Automatically check if this script is already loaded and load this script only once. If there are problems, try to turn on DEBUG mode or uncheck this option.<br/>
											Note: This DOES NOT work for scripts injected as script node into DOM tree via such as #Message.injectContentScript method.">
										Import Once</label>
	
										<input id="dcssave" type='button' value="Save [Ctrl+S]" title="Save current script in edit."/>
										<input id="dcsdelete" type='button' value="Delete" title="Delete current script in edit." />
									</td>
								</tr></table>
							</div>
							<div class="toolbar" style="top:30px;" >	
								<div style="display:inline-block;float:right;">
									<select id="dcsgencodebytemplate" title="Choose a template to generate code. <br/>Code comment can be set omitted or not by changing 'Output Comments in Templates' switch in Options tab.">
										<option value="">Code Template</option>
									</select>
									
									<input class="findReplaceDialogBtn" type="button" value="Find and Replace" target="Content Scripts" />
									<input type="button" value="+" class="textSizeUpBtn" >
									<span class='textsizeval'>11px</span>
									<input type="button" value="-" class="textSizeDownBtn">
								</div>
								<div style='display:none; clear:both;'>
									<select id='jsscriptfile' >
									</select>
								</div>
							</div>
							
							<div class="tabs" style="">
								<ul>
									<li><a href="#tabs-dcs1">JavaScript</a></li>
									<li id="tabs-metadata"><a href="#tabs-dcs2">MetaData (Global) </a></li>
								</ul>
								<div id="tabs-dcs1" class="tab">
									<div id="editorwrap" class="editwrap" >
										<textarea id='dyscriptedit'></textarea>
									</div>
								</div>
								<div id="tabs-dcs2" class="tab">
									<div id="editorwrap2" class="editwrap" >
										<textarea id='taeditmeta'></textarea>
									</div>
								</div>
								<!--
								<span><div id='dummyheight' class="editwrap" ></div></span>
								-->
							</div>
							
							<!--
							<div style="position:absolute; width:100%; height:100%; top:0px; padding:52px 0px 10px 0px; box-sizing:border-box; z-index:0;">

							</div>
							-->
						</div>
					</div>	
				</div>
			</div>
			
							
			<div id="tabs-options" class="tab">
				<div class="editwrap" >
					<div class="editorPanel">
						<div id="settings-global">
							<h2 title="Refresh page to make settings effective in this page.">Options</h2>
							<table class="localstorage_block">								
								<tr class="togglePanel" target=".settings-theme" >
									<td colspan="4"><h3>Theme â€¦</h3></td>
								<tr>
								<tr class="localstorage_item settings-theme hide">
									<td>Day Theme in Automatic Mode</td>
									<td>
									<select class="localstorage_itemvalue" target="$setting.theme_day" defaultvalue="_yellow" >
										<option value="light">Light</option>
										<option value="_yellow">Yellow</option>
										<option value="dark">Dark</option>
									</select>
									</td>
									<td><input type="button" class="localstorage_saveitem" target="$setting.theme_day" value="Save" /></td>
									<td><input type="button" class="localstorage_resetitem" target="$setting.theme_day" value="Set to Default" /></td>
								<tr>
								<tr class="localstorage_item settings-theme hide">
									<td>Night Theme in Automatic Mode</td>
									<td>
									<select class="localstorage_itemvalue" target="$setting.theme_night" defaultvalue="dark" >
										<option value="light">Light</option>
										<option value="_yellow">Yellow</option>
										<option value="dark">Dark</option>
									</select>
									</td>
									<td><input type="button" class="localstorage_saveitem" target="$setting.theme_night" value="Save" /></td>
									<td><input type="button" class="localstorage_resetitem" target="$setting.theme_night" value="Set to Default" /></td>
								<tr>
								<tr class="localstorage_item settings-theme hide">
									<td title="Start time of night in format of hh:mm, e.g. 18:30">
									Start Time of Night</td>
									<td><input type="text" class="localstorage_itemvalue" target="$setting.theme_nightStartTime" defaultvalue="18:00" value="18:00" size="9" /></td>
									<td><input type="button" class="localstorage_saveitem" target="$setting.theme_nightStartTime" value="Save" /></td>
									<td><input type="button" class="localstorage_resetitem" target="$setting.theme_nightStartTime" value="Set to Default" /></td>
								<tr>
								<tr class="localstorage_item settings-theme hide">
									<td title="End time of night in format of hh:mm, e.g. 06:30">
									End Time of Night</td>
									<td><input type="text" class="localstorage_itemvalue" target="$setting.theme_nightEndTime" defaultvalue="06:30" value="06:30" size="9" /></td>
									<td><input type="button" class="localstorage_saveitem" target="$setting.theme_nightEndTime" value="Save" /></td>
									<td><input type="button" class="localstorage_resetitem" target="$setting.theme_nightEndTime" value="Set to Default" /></td>
								<tr>
								
								<tr>
									<td colspan="4"><h3>Popup Window</h3></td>
								<tr>
								<tr class="localstorage_item">
									<td title="The max height of the panel which contains buttons generated by meta data. The scrollbar will appear if the content is too much.">
									Max Height of Generated UI Panel</td>
									<td><input type="text" class="localstorage_itemvalue" target="$setting.popupwindow_genUIPanelMaxHeight" defaultvalue="164" value="164" size="9" /></td>
									<td><input type="button" class="localstorage_saveitem" target="$setting.popupwindow_genUIPanelMaxHeight" value="Save" /></td>
									<td><input type="button" class="localstorage_resetitem" target="$setting.popupwindow_genUIPanelMaxHeight" value="Set to Default" /></td>
								<tr>
								<tr class="localstorage_item">
									<td title="The max height of the panel which contains buttons generated by meta data. The scrollbar will appear if the content is too much.">
									Disable Run Code Button</td>
									<td>
									<span class="localstorage_itemvalue" target="$setting.popupwindow_disableRunCodeButton" defaultvalue="false" >
										<input type="radio" value="false" name="$setting.popupwindow_disableRunCodeButton" /><span class="option">No</span>
										<input type="radio" value="true" name="$setting.popupwindow_disableRunCodeButton" /><span class="option">Yes</span>
									<span>
									</td>
									<td><input type="button" class="localstorage_saveitem" target="$setting.popupwindow_disableRunCodeButton" value="Save" /></td>
									<td><input type="button" class="localstorage_resetitem" target="$setting.popupwindow_disableRunCodeButton" value="Set to Default" /></td>
								<tr>
								<tr class="localstorage_item">
									<td title="Display the requries field of the site script. <br/>The text (seperated by commas) specified in the requires filed indicates the names of content scripts that should be loaded before this site script is loaded. <br/>This is the old-style specification for script dependency, and is <b>ommited</b> by default with the new module management paradigm powered by Sea.js.">
									Display Requires field</td>
									<td>
									<span class="localstorage_itemvalue" target="$setting.popupwindow_displayRequiresField" defaultvalue="false" >
										<input type="radio" value="false" name="$setting.popupwindow_displayRequiresField" /><span class="option">No</span>
										<input type="radio" value="true" name="$setting.popupwindow_displayRequiresField" /><span class="option">Yes</span>
									<span>
									</td>
									<td><input type="button" class="localstorage_saveitem" target="$setting.popupwindow_displayRequiresField" value="Save" /></td>
									<td><input type="button" class="localstorage_resetitem" target="$setting.popupwindow_displayRequiresField" value="Set to Default" /></td>
								<tr>
								
								<tr>
									<td colspan="4"><h3>Site-Specific Scripts</h3></td>
								<tr>
								<tr class="localstorage_item">
									<td title="Show main script in menu list in site-specific scripts tab<br/>Main script is the <b>first</b> loaded script just after sea.js is loaded.">
									Show Main script</td>
									<td>
									<span class="localstorage_itemvalue" target="$setting.sitescripts_showMainScript" defaultvalue="false" >
										<input type="radio" value="false" name="$setting.sitescripts_showMainScript" /><span class="option">No</span>
										<input type="radio" value="true" name="$setting.sitescripts_showMainScript" /><span class="option">Yes</span>
									<span>
									</td>
									<td><input type="button" class="localstorage_saveitem" target="$setting.sitescripts_showMainScript" value="Save" /></td>
									<td><input type="button" class="localstorage_resetitem" target="$setting.sitescripts_showMainScript" value="Set to Default" /></td>
								<tr>
								
								<tr>
									<td colspan="4"><h3>Dynamic Content Scripts</h3></td>
								<tr>
								<tr class="localstorage_item">
									<td title="Contain comments when generating content script from code templates.">
									Output Comments in Templates</td>
									<td>
									<span class="localstorage_itemvalue" target="$setting.contentcripts_generateComments" defaultvalue="true" >
										<input type="radio" value="true" name="$setting.contentcripts_generateComments" /><span class="option">Yes</span>
										<input type="radio" value="false" name="$setting.contentcripts_generateComments" /><span class="option">No</span>
									<span></td>
									<td><input type="button" class="localstorage_saveitem" target="$setting.contentcripts_generateComments" value="Save" /></td>
									<td><input type="button" class="localstorage_resetitem" target="$setting.contentcripts_generateComments" value="Set to Default" /></td>
								<tr>
								
								<tr>
									<td colspan="4" class="togglePanel" target=".settings-msgbox" title="Click to toggle display">
									<h3>Build-in Scripts - Message Box ...</h3></td>
								<tr>
								<tr class="localstorage_item settings-msgbox hide">
									<td title='Disaply time in milliseconds of the message box shown by calling log (assigned by require("msgbox")) function in content scripts.'>
									Display Time (ms)</td>
									<td><input type="text" class="localstorage_itemvalue" target="$setting.builtin_msgboxDisplayTime" defaultvalue="3750" value="3750" size="9" /></td>
									<td><input type="button" class="localstorage_saveitem" target="$setting.builtin_msgboxDisplayTime" value="Save" /></td>
									<td><input type="button" class="localstorage_resetitem" target="$setting.builtin_msgboxDisplayTime" value="Set to Default" /></td>
								<tr>
								<tr class="localstorage_item settings-msgbox hide">
									<td title='The position of the message box.'>
									Position</td>
									<td><select class="localstorage_itemvalue" target="$setting.builtin_msgboxPosition" defaultvalue="1" >
										<option value="0">Top</option>
										<option value="1">Bottom</option>
									</select></td>
									<td><input type="button" class="localstorage_saveitem" target="$setting.builtin_msgboxPosition" value="Save" /></td>
									<td><input type="button" class="localstorage_resetitem" target="$setting.builtin_msgboxPosition" value="Set to Default" /></td>
								<tr>
								<tr class="localstorage_item settings-msgbox hide">
									<td title='A css style string representing the width of the message box shown by calling log (assigned by require("msgbox")) function in content scripts.'>
									Width</td>
									<td><input type="text" class="localstorage_itemvalue" target="$setting.builtin_msgboxWidth" defaultvalue="500px" value="500px" size="9" /></td>
									<td><input type="button" class="localstorage_saveitem" target="$setting.builtin_msgboxWidth" value="Save" /></td>
									<td><input type="button" class="localstorage_resetitem" target="$setting.builtin_msgboxWidth" value="Set to Default" /></td>
								<tr>
								<tr class="localstorage_item settings-msgbox hide">
									<td title='A decimal between 0 to 1 indicating the opacity of the message box shown by calling log (assigned by require("msgbox")) function in content scripts. 0 means totally transparent, and 1 means totally opaque.'>
									Opacity</td>
									<td><input type="text" class="localstorage_itemvalue" target="$setting.builtin_msgboxOpacity" defaultvalue="0.8" value="0.8" size="9" /></td>
									<td><input type="button" class="localstorage_saveitem" target="$setting.builtin_msgboxOpacity" value="Save" /></td>
									<td><input type="button" class="localstorage_resetitem" target="$setting.builtin_msgboxOpacity" value="Set to Default" /></td>
								<tr>
								<tr class="localstorage_item settings-msgbox hide">
									<td title='The backgound color of the message box shown by calling log (assigned by require("msgbox")) function in content scripts.'>
									Background Color</td>
									<td><input type="text" class="localstorage_itemvalue color" target="$setting.builtin_msgboxBgColor" defaultvalue="#F7DF1D" value="#F7DF1D" size="9" /></td>
									<td><input type="button" class="localstorage_saveitem" target="$setting.builtin_msgboxBgColor" value="Save" /></td>
									<td><input type="button" class="localstorage_resetitem" target="$setting.builtin_msgboxBgColor" value="Set to Default" /></td>
								<tr>
								<tr class="localstorage_item settings-msgbox hide">
									<td title='Extra CSS style of the message box shown by calling log (assigned by require("msgbox")) function in content scripts.'>
									Extra Styles</td>
									<td><textarea class="localstorage_itemvalue" target="$setting.builtin_msgboxExtraStyles" defaultvalue="border:1px solid #937B13;" style="min-width:175px;" >border:1px solid #937B13;</textarea>
									<br/>Color chooser <input type="text" class="color" value="#937B13" size="8" />
									</td>
									<td><input type="button" class="localstorage_saveitem" target="$setting.builtin_msgboxExtraStyles" value="Save" /></td>
									<td><input type="button" class="localstorage_resetitem" target="$setting.builtin_msgboxExtraStyles" value="Set to Default" /></td>
								<tr>
								
								<tr>
									<td colspan="4" class="togglePanel" target=".settings-selectbox" title="Click to toggle display">
									<h3>Build-in Scripts - Selection Box ...</h3></td>
								<tr>
								<tr class="localstorage_item settings-selectbox hide">
									<td title='Pixel size value of the edge of selection box shown in webpage when Choose DOM Node buttons are clicked in popup window.'>
									Edge Size</td>
									<td><input type="text" class="localstorage_itemvalue" target="$setting.builtin_selectionboxEdgeSize" defaultvalue="3" value="3" size="9" /></td>
									<td><input type="button" class="localstorage_saveitem" target="$setting.builtin_selectionboxEdgeSize" value="Save" /></td>
									<td><input type="button" class="localstorage_resetitem" target="$setting.builtin_selectionboxEdgeSize" value="Set to Default" /></td>
								<tr>
								<tr class="localstorage_item settings-selectbox hide">
									<td title='CSS color value of the edge of selection box shown in webpage when Choose DOM Node buttons are clicked in popup window.'>
									Edge Color</td>
									<td><input type="text" class="localstorage_itemvalue color" target="$setting.builtin_selectionboxEdgeColor" defaultvalue="#65F166" value="#65F166" size="9" /></td>
									<td><input type="button" class="localstorage_saveitem" target="$setting.builtin_selectionboxEdgeColor" value="Save" /></td>
									<td><input type="button" class="localstorage_resetitem" target="$setting.builtin_selectionboxEdgeColor" value="Set to Default" /></td>
								<tr>
								
								<tr>
									<td colspan="4" class="" target="">
									<h3>Backup and Restore</h3></td>
								<tr>
								<tr class="localstorage_item ">
									<td title="Decide if the created backup JSON text is friendly for human-reading. A readable backup is properly indented and thus more human-friendly for reading but it takes more space in storage.">
									Create reading-friendly backups</td>
									<td>
									<span class="localstorage_itemvalue" target="$setting.backup-readable" defaultvalue="false" >
										<input type="radio" value="false" name="$setting.backup-readable" /><span class="option">No</span>
										<input type="radio" value="true" name="$setting.backup-readable" /><span class="option">Yes</span>
									<span>
									</td>
									<td><input type="button" class="localstorage_saveitem" target="$setting.backup-readable" value="Save" /></td>
									<td><input type="button" class="localstorage_resetitem" target="$setting.backup-readable" value="Set to Default" /></td>
								<tr>
								<!--tr class="localstorage_item ">
									<td title="Refresh this page when the <b>Save All</b> or <b>All Set to Default</b> button is clicked.">
									Refresh Page On Change All Options</td>
									<td>
									<span class="localstorage_itemvalue" target="$setting.misc_refreshOnSaveAllOptions" defaultvalue="true" >
										<input type="radio" value="true" name="$setting.misc_refreshOnSaveAllOptions" /><span class="option">Yes</span>
										<input type="radio" value="false" name="$setting.misc_refreshOnSaveAllOptions" /><span class="option">No</span>
									<span>
									</td>
									<td><input type="button" class="localstorage_saveitem" target="$setting.misc_refreshOnSaveAllOptions" value="Save" /></td>
									<td><input type="button" class="localstorage_resetitem" target="$setting.misc_refreshOnSaveAllOptions" value="Set to Default" /></td>
								<tr-->
								
								<tr>
									<td colspan="4" class="" target="">
									<h3>Misc.</h3></td>
								<tr>
								<tr class="localstorage_item ">
									<td title="Refresh this page when the <b>Save</b> or <b>Set to Default</b> button is clicked.">
									Refresh Page On Change An Option</td>
									<td>
									<span class="localstorage_itemvalue" target="$setting.misc_refreshOnSaveAnOption" defaultvalue="false" >
										<input type="radio" value="false" name="$setting.misc_refreshOnSaveAnOption" /><span class="option">No</span>
										<input type="radio" value="true" name="$setting.misc_refreshOnSaveAnOption" /><span class="option">Yes</span>
									<span>
									</td>
									<td><input type="button" class="localstorage_saveitem" target="$setting.misc_refreshOnSaveAnOption" value="Save" /></td>
									<td><input type="button" class="localstorage_resetitem" target="$setting.misc_refreshOnSaveAnOption" value="Set to Default" /></td>
								<tr>
								<tr class="localstorage_item ">
									<td title="Refresh this page when the <b>Save All</b> or <b>All Set to Default</b> button is clicked.">
									Refresh Page On Change All Options</td>
									<td>
									<span class="localstorage_itemvalue" target="$setting.misc_refreshOnSaveAllOptions" defaultvalue="true" >
										<input type="radio" value="true" name="$setting.misc_refreshOnSaveAllOptions" /><span class="option">Yes</span>
										<input type="radio" value="false" name="$setting.misc_refreshOnSaveAllOptions" /><span class="option">No</span>
									<span>
									</td>
									<td><input type="button" class="localstorage_saveitem" target="$setting.misc_refreshOnSaveAllOptions" value="Save" /></td>
									<td><input type="button" class="localstorage_resetitem" target="$setting.misc_refreshOnSaveAllOptions" value="Set to Default" /></td>
								<tr>
								
								<tr>
									<td colspan="4" class="togglePanel" target=".debug-options">
									<h3>Debug Options</h3></td>
								<tr>
								<tr class="localstorage_item debug-options ">
									<td title="Debug mode switch. More information is logged in console in debug mode.">
									Turn On Debug Mode</td>
									<td>
									<span class="localstorage_itemvalue" target="$setting.DEBUG" defaultvalue="false" >
										<input type="radio" value="false" name="$setting.DEBUG" /><span class="option">No</span>
										<input type="radio" value="true" name="$setting.DEBUG" /><span class="option">Yes</span>
									<span>
									</td>
									<td><input type="button" class="localstorage_saveitem" target="$setting.DEBUG" value="Save" /></td>
									<td><input type="button" class="localstorage_resetitem" target="$setting.DEBUG" value="Set to Default" /></td>
								<tr>
								<tr class="localstorage_item debug-options ">
									<td title="If this swtich is turned on, clicking buttons in generated UI area of popup window will execute the code instead of inserting into the script in the editor.">
									Run Code Generated by Button</td>
									<td>
									<span class="localstorage_itemvalue" target="$setting.DEBUG_runbuttoncode" defaultvalue="false" >
										<input type="radio" value="false" name="$setting.DEBUG_runbuttoncode" /><div class="option">No</div>
										<input type="radio" value="true" name="$setting.DEBUG_runbuttoncode" /><div class="option">Yes</div>
									<span>
									</td>
									<td><input type="button" class="localstorage_saveitem" target="$setting.DEBUG_runbuttoncode" value="Save" /></td>
									<td><input type="button" class="localstorage_resetitem" target="$setting.DEBUG_runbuttoncode" value="Set to Default" /></td>
								<tr>
								<!--
								<tr class="localstorage_item">
									<td>Popup window width</td>
									<td><input type="text" class="localstorage_itemvalue" target="$setting.popupwindow_width" defaultvalue="600" value="600" /></td>
									<td><input type="button" class="localstorage_saveitem" target="$setting.popupwindow_width" value="Save" /></td>
									<td><input type="button" class="localstorage_resetitem" target="$setting.popupwindow_width" value="Default" /></td>
								<tr>
								<tr class="localstorage_item">
									<td>Popup window height</td>
									<td>
									<select class="localstorage_itemvalue" target="$setting.DEBUG_runbuttoncode" defaultvalue="false" >
										<option value="false">No</option>
										<option value="true">Yes</option>
									</select>
									</td>
									<td><input type="button" class="localstorage_saveitem" target="$setting.popupwindow_height" value="Save" /></td>
									<td><input type="button" class="localstorage_resetitem" target="$setting.popupwindow_height" value="Default" /></td>
								<tr>
								-->
								<tr>
									<td colspan="4" style="border-top:solid 1px #bbbbbb; padding-top: 10px;">
										<input type="button" class="localstorage_saveall" value="Save All" />
										<input type="button" class="localstorage_resetall" value="All Set to Default" />
										<div style="display:inline-block; width: 35px;"></div>
										<input type="button" id="removeTempSettingsBtn" value="Remove Temporary Settings" />
									</td>
								</tr>
							</table>
						</div>
					</div>
				</div>
			</div>
				
			<div id="tabs-gs" class="tab">
				<div class="editwrap settingNav" >
					<div id="settings-list" class="navbar">
						<div style='overflow:auto;min-width:200px;clear:both;height:100%'>
							<div class="jstbox settingKey selected" target="settings-default"><div class="jsttitle">Backup and Restore</div></div>
							<div class="jstbox settingKey" target="settings-json-viewer"><div class="jsttitle">JSON Viewer</div></div>
							<div class="jstbox settingKey" target="settings-manual"><div class="jsttitle">User Manual</div></div>
							<div class="jstbox settingKey" target="settings-about"><div class="jsttitle">About</div></div>
						</div>
					</div>
					<div class="editorPanel">
						<div id="settings-default" class="settingPanel">
							<h2>Cloud Storage Backup and Restore</h2>
							<input class="cloudbackup" type="button" value="Backup"  title="Backup all scripts and configurations <b>excluding</b> cloud storage tokens."/>
							<input class="cloudrestore" type="button" value="Restore" /><br/><br/>
							Settings to be load: 
							<input id="cloudrestore-key" type="text" class="localstorage_itemvalue" target="$setting.cloud-lastsave" value="" size="20" />
							<input id="cloudlist" type="button" value="List" />
							<input id="cloudview" type="button" value="View" />
							<input id="cloudleavelast10" type="button" value="Remove All Except Last 10" /> 
							<input id="clouddelete" type="button" value="Delete" /> 
							<input id="cloudtoggleselect" type="button" value="Multiple Select" data-selectmode="radio" /> 
							<div id="cloudrestore-keys">
							</div>
							
							<h5 class="togglePanel" target=".cloudsave-setting">Cloud storage settings (Click to toggle)</h5>
							<table class="cloudsave-setting localstorage_block hide">
							<tr>
								<td>URL: </td>
								<td><input id="cloudsave-url" type="url" size="70" class="localstorage_itemvalue" 
									target="$setting.cloud-url" 
									value="http://<hostname>/cloudsave.php" /> <br/></td>
							</tr>
							<tr>
								<td>Path: </td>
								<td><input id="cloudsave-path" type="text" class="localstorage_itemvalue" 
									target="$setting.cloud-path" value="chrome-ext" /></td>
							</tr>
							<tr>
								<td>Passphrase: </td>
								<td><input id="cloudsave-passphrase" type="password" class="localstorage_itemvalue" 
									target="$setting.cloud-passphrase" value="" />
									<input class="cloudsave-showkey" type="button" value="Show" /></td>
							</tr>
							<tr>
								<td>Key-IV: </td>
								<td><input id="cloudsave-keyiv" type="password"  class="localstorage_itemvalue" 
									target="$setting.cloud-keyiv" value="" />
									<input class="cloudsave-showkey" type="button" value="Show" />
									<input id="cloudsave-genkey" type="button" value="Generate a key iv" /> <span></span></td>
							</tr>
							<tr>
								<td></td>
								<td>
								<input id="cloudsave-savesettings" class="localstorage_saveall" type="button" value="Save" />
								<input id="cloudsave-backuptokens" class="" type="button" value="Backup Tokens Locally" />
								<a id="__UI_dialog__link_cloud_setting" download="cloudtokens.json" title="Click to download the backup file cloudtokens.json." style="display:none;position:relative;top:5px">Download</a>
								</td>
							</tr>
							<tr>
								<td></td>
								<td>
								<input id="cloudsave-restoretokens" class="" type="button" value="Restore Tokens" />
								<input id="__LocalStorageFP_cloudtokens" type="file" title="Please select the backup token file to restore" style="width:150px"/>
								</td>
							</tr>
							</table>
							
							<h5 class="togglePanel" target=".cloud-deployment">Deploy Cloud storage system (Click to toggle)</h5>
							<div class="hide cloud-deployment" style="">
								<p> The cloud storage system is a simple PHP application with only one php file. </p>
								<p>Step 1. Create your passphrase and generate a Key-IV.</p>
								<p>Step 2. Create a <a href="cloudsave.php" target="_blank">php file</a> and replace the variable value accordingly with php hosting setting and values got in step 1.</p>
								<p>Step 3. Check if mcrypt is supported with phpinfo(). If not supported, install php5-mcrypt with "apt-get install" or "yum install"</p>
								<p>Step 4. Deploy the php to your own php web server or php web hosting server.</p>
								<p>Step 5. (Optional) Enable gzip/deflate compression on your web hosting server if the network access speed from your computer to your server is not fast. One feasible choice on Apache (version >= 1.3) is adding the content in <a href="cloudsave.htaccess" target="_blank">this file</a> to your .htaccess file under the directory in which your php file is deployed.</p>
								<input id="show-cloudsave-src" type="button" value="Show cloud save source" />
							</div>
							<hr/>
							
							<h2>Local Storage Backup and Restore</h2>
							<input type="button" id="backupbtn" value="Backup" style='height:25px' title="Backup all scripts and configurations including cloud storage tokens." />
							<a id="__UI_dialog__link" download="backup.json" title="Click to download the backup file." style="display:none;position:relative;top:5px">Download</a>
							<br/>
							Local storage backup file:
							<input id="__LocalStorageFP__" type="file" title="Please select the backup file to restore" style="width:150px"/>
							<input type="button" id="restorebtn" value="Restore" style='height:25px' />
							<hr/>
							
							<h2>Restore with default settings</h2>
							<input type="button" id="loadDftSettingsBtn" value="Load Default Settings" style='height:25px' />
							<input type="button" id="rebuildScriptIndexesBtn" value="Rebuild Script Indexes" style='height:25px' />
							<br/>
							<hr/>
							
							<h2>Data Store</h2>
							<input type="button" id="loadScriptsLStoDBBtn" value="Migrate Old -> New" style='height:25px' />
							<input class="hide" type="button" id="loadScriptsDBtoLSBtn" value="Migrate New -> Old" style='height:25px' />
							<input type="button" id="reportStorageUsageDbBtn" value="Report Usage" style='height:25px' />
							<br/>
							<hr/>
							
							<div class="hide0">
								<h2>Generate Initial Settings (only for development use)</h2>
								<input type="button" id="genInitSettingbtn" value="Generate" style='height:25px' />
								<a id="__UI_dialog__link_init_setting" download="init_settings.json" title="Click to download and view the init_settings.json file." style="display:none;position:relative;top:5px">Download and View</a>
								<input type="button" id="clearDbBtn" value="Clear Database" style='height:25px' />
							</div>
						</div>
						<div id="settings-json-viewer" class="settingPanel">
							<h3>JSON Viewer</h3><hr/>
							<input id="jsonFileLoad" type="button" value="Load" />
							<input id="jsonFilePath" type="file"/>
							<br/>Show script for:
							<input id="jsonObjPath" type="text" size="30" value="Default" />
							<input id="jsonObjExtract" type="button" value="Extract" />
							<hr/>
							<div id="json-viewer-tabs">
							  <ul>
								<li><a href="#json-viewer-tabs-1">JSON File</a></li>
								<li><a href="#json-viewer-tabs-2">Javascript</a></li>
							  </ul>
							  <div id="json-viewer-tabs-1">
							  	<textarea id="json-file"></textarea>
							  	<div id="json-viewer-site-list" style="overflow:auto"></div>
							  </div>
							  <div id="json-viewer-tabs-2">
							  	<textarea id="json-file-obj"></textarea>
							  </div>
							</div>
						</div>
						<div id="settings-manual" class="settingPanel">
							<div id="manual-content" class="accordion">
							</div>
						</div>
						<div id="settings-about" class="settingPanel">
							<h2>About</h2><hr/>
							<h3>Copyright Description</h3>
							<p>
							<a target="_blank" href="https://chrome.google.com/webstore/detail/javascript-tricks/dpkgacdhagkgdhgmbfdhbmgdgnjibodb"><b>Javascript Tricks</b></a> 
							is a chrome extension developed based on 
							<a target="_blank" href="https://chrome.google.com/webstore/detail/jscript-tricks/odialddippdmebbfbflcneemfdglimod"><b>JScript Tricks</b></a>, 
							which is originally developed by Szamil. His/her work is very fundamental and important to
							this project and thus reserves great appreciation! 
							If there is any copyright issue, please post a comment 
							<a target="_blank" href="https://chrome.google.com/webstore/detail/javascript-tricks/dpkgacdhagkgdhgmbfdhbmgdgnjibodb">here</a>
							to let me know.</p>
							<p>
							Several months ago, I searched the chrome web store and found <b>JScript Tricks</b> is very 
							close to what I want, so I download it and start to use it. Later however, I found that some necessary features are lacking , such as 
							configuration backup and restore, but Szamil does not update it any more. As a result, I start this project to 
							extend the original JScript Tricks.
							
							</p>
							
							<br/>
							<h3 id="settings-release-notes-btn" class="empty togglePanel" target="#settings-release-notes">Release Notes: (Click to collapse or extend)</h3>
							<div id="settings-release-notes">		
								Loading...					
							</div>					
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div style='font-size: 8pt; clear:both; margin:10px; width: 100%; text-align:right; position:fixed; bottom: 10px; right: 0px;'>
		Powered by <a href='http://codemirror.net/' target='_blank'>CodeMirror</a>		
		
		<div id='donateDiv' style="float:left;position:absolute;top:-10px;left:0;margin-left:20px;">
			<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank" style="display:inline-block;">
				<input type="hidden" name="cmd" value="_donations">
				<input type="hidden" name="business" value="zearongong@gmail.com">
				<input type="hidden" name="lc" value="EN">
				<input type="hidden" name="item_name" value="JavaScript Trick Chrome Extension donation">
				<input type="hidden" name="no_note" value="0">
				<input type="hidden" name="currency_code" value="USD">
				<input type="hidden" name="bn" value="PP-DonationsBF:btn_donate_LG.gif:NonHostedGuest">
				<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
				<img alt="" border="0" src="https://www.paypalobjects.com/pl_PL/i/scr/pixel.gif" width="1" height="1">
			</form>
			<!--
			<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank" style="display:inline-block;">
				<input type="hidden" name="cmd" value="_donations">
				<input type="hidden" name="business" value="thewall37@gmail.com">
				<input type="hidden" name="lc" value="PL">
				<input type="hidden" name="item_name" value="JavaScript Trick Chrome Extension donation">
				<input type="hidden" name="no_note" value="0">
				<input type="hidden" name="currency_code" value="USD">
				<input type="hidden" name="bn" value="PP-DonationsBF:btn_donate_LG.gif:NonHostedGuest">
				<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
				<img alt="" border="0" src="https://www.paypalobjects.com/pl_PL/i/scr/pixel.gif" width="1" height="1">
			</form>
			-->
		</div>
	</div>

	
  </body>
</html>
